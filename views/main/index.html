{% extends 'layout.html' %}

{% block content %}
  {% for content in contents %}
  <div class="listBox">
    <h1>{{content.title}}</h1>
    <p class="colDefault">
      作者: <span class="colInfo">{{content.user.username}}</span>
      时间: <span class="colInfo">{{content.addTime | date('Y年m月d日 H:i:s', -8*60)}}</span>
      阅读: <span class="colInfo">{{content.views}}</span>
      评论: <span class="colInfo">{{content.comments.length}}</span>
    </p>
    <dfn><p>{{content.description}}</p></dfn>
    <div class="function"><a href="/view?contentid={{content.id}}">阅读原文</a></div>
  </div>
  {% endfor %}

  <ul class="page_index">
    <li class="previous">
      {% if page <= 1 %}
        <a href="javascript:;">没有上一页了</a>
      {% else %}
        <a href="/?category={{category}}&page={{page-1}}">上一页</a>
      {% endif %}
    </li>

    {% if pages>0 %}
    <li><strong>{{page}} / {{pages}}</strong></li>
    {% endif %}

    <li class="next">
      {% if page >= pages %}
        <a href="javascript:;">没有下一页</a>
      {% else %}
        <a href="/?category={{category}}&page={{page+1}}">下一页</a>
      {% endif %}
    </li>
  </ul>
{% endblock %}
